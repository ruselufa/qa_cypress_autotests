# Автотесты на Cypress

Этот проект содержит автотесты для двух сайтов:
1. Форма авторизации на login.qa.studio
2. E2E тест покупки аватара на pokemonbattle.ru

## Установка

```bash
npm install
```

## Запуск тестов

### Открыть Cypress Test Runner
```bash
npm run cypress:open
```

### Запустить тесты в headless режиме
```bash
npm run cypress:run
```

### Запустить конкретный тест
```bash
npx cypress run --spec "cypress/e2e/login.cy.js"
```

## Структура проекта

```
cypress/
├── e2e/
│   ├── login.cy.js      # Тесты для формы авторизации
│   └── pokemon.cy.js    # E2E тест покупки аватара
├── fixtures/            # Тестовые данные
└── support/
    ├── commands.js      # Кастомные команды
    └── e2e.js          # Конфигурация поддержки
```

## Тесты для login.qa.studio

1. **Позитивный кейс авторизации** - проверка успешной авторизации с правильными данными
2. **Восстановление пароля** - проверка функционала восстановления пароля
3. **Негативный кейс - неправильный пароль** - проверка ошибки при неверном пароле
4. **Негативный кейс - неправильный логин** - проверка ошибки при неверном логине
5. **Валидация email** - проверка ошибки при отсутствии @ в email
6. **Приведение к строчным буквам** - проверка бага с регистром букв в email

## E2E тест для pokemonbattle.ru

Сквозной тест покупки нового аватара для тренера, включающий:
- Авторизацию
- Переход к смене аватара
- Выбор доступного аватара
- Заполнение данных карты
- Подтверждение покупки

## Важные замечания

- Для тестов покемонов замените USER_LOGIN и USER_PASSWORD на реальные данные
- Тест с приведением к строчным буквам должен упасть (это баг разработчика)
- При проблемах с антивирусом отключите его или используйте браузер Electron
